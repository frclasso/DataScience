#!/usr/bin/env python3

import pandas as pd
import matplotlib.pyplot as plt


# Code from previous exercise
urb_pop_reader = pd.read_csv('ind_pop_data.csv', chunksize=1000)
df_urb_pop = next(urb_pop_reader)
df_pop_ceb = df_urb_pop[df_urb_pop['CountryCode'] == 'CEB']
pops = zip(df_pop_ceb['Total Population'],
           df_pop_ceb['Urban population (% of total)'])
pops_list = list(pops)

# Use list comprehension to create new DataFrame column 'Total Urban Population'
df_pop_ceb['Total Population'] = [int(tup[0] * tup[1] * 0.01) for tup in pops_list]
#df_pop_ceb.iloc[:,3] = [int(tup[0] * tup[1] * 0.01) for tup in pops_list]

# Plot urban population data
df_pop_ceb.plot(kind='scatter', x='Year', y='Total Population')
plt.show()



"""You're getting used to reading and processing data in chunks by now.
Let's push your skills a little further by adding a column to a DataFrame.

Starting from the code of the previous exercise, you will be using a list
comprehension to create the values for a new column 'Total Urban Population'
from the list of tuples that you generated earlier. Recall from the previous
exercise that the first and second elements of each tuple consist of, respectively, values from the columns 'Total Population' and 'Urban population (% of total)'. The values in this new column 'Total Urban Population', therefore, are the product of the first and second element in each tuple. Furthermore, because the 2nd element is a percentage, you need to divide the entire result by 100, or alternatively, multiply it by 0.01.

You will also plot the data from this new column to create a visualization
of the urban population data."""